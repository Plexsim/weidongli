<?php defined('IN_IA') or exit('Access Denied');?>﻿<!DOCTYPE html>
<html lang="zh-CN" class="static light-app cloud7global"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<title>轻APP:来自星星的APP! - 微爱云微场景</title>
<link href="./liveapp/Cloud7-Global.css" rel="stylesheet" type="text/css">
<meta content="Web7" name="generator">
<meta content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
<link href="http://www.cloud7.com.cn/Media/Default/Pics/2014421181453323JIDE.jpeg-fav.ico" rel="shortcut icon" type="image/x-icon">
<link href="http://www.cloud7.com.cn/Media/Default/Pics/2014421181453323JIDE.jpeg-touch.png" rel="apple-touch-icon" type="image/x-icon">
<script src="./liveapp/jquery-1.7.1.min.js" type="text/javascript"></script>
<script src="./liveapp/html5.js" type="text/javascript"></script>
    <style>
        @media only screen and (device-height: 668px){
          #footer{
            margin-top: 6.125em;
          }
    }
    </style>


    <script type="text/javascript" src="./liveapp/piwik.js"></script>
    <script type="text/javascript">
        window.cloud7Analytics = Piwik;
        window.cloud7Analytics.doTrace = function (urlref) {
            var tracker = Piwik.getTracker();
            //tracker.setSiteId(3);
            tracker.setTrackerUrl("http://analytics.cloud7.com.cn/piwik/piwik.php");
            tracker.enableLinkTracking();
            tracker.setDocumentTitle(document.domain + "/" + document.title);
            tracker.setCustomUrl(window.location.href);
            tracker.setReferrerUrl(urlref || document.referrer || window.parent.document.referrer || window.top.document.referrer);
            tracker.trackPageView();
        };
        window.cloud7Analytics.doTrace();
    </script>
</head> 
<body>

<div id="layout-wrapper">
<a href="" name="top"></a>
<div id="content">
	<!-- header start -->
	

<script>
    (function () {
        $(".layout_header .nav-menu a").each(function () {
            if ($(this).attr("href") == window.location.pathname) {
                $(this).addClass("selected");
            }
        });
    })();
</script>


    <!-- header end -->
    
    <!-- body start -->
    <div class="layout_body" id="page">
                <div id="content" class="group">
                    <div class="zone zone-content"><div class="wrap">
    <div class="content-wrapper app-form-star" style="height: 579px;">
        <div class="header">
            <img src="./liveapp/block01-img.png" alt="来自星星的APP">
            <p class="tips">微爱云独家打造非人类轻APP梦工场，正式上线！</p>
        </div>
        <a href="./member.php?act=login&" class="open-lightapp">立即开启微场景</a>
        <div id="go-to-next">
            <span class="icon-arrow btn_down_animation"></span>
            <div class="btndowntit">向下滑动</div>
        </div>
        <span class="key-mouse"></span>
    </div>
    <div class="content-wrapper super-power" style="height: 579px;">
        <table>
            <tbody><tr>
                <td style="height: 579px;">
                  <img src="./liveapp/super-power.png" alt="TA有APP的外貌和体形，更有APP没有的超能力">
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="content-wrapper baidu-weixin" style="height: 579px;">
        <table>
            <tbody><tr>
                <td style="height: 579px;">
                    <img src="./liveapp/baidu-weixin.png" alt="TA能在空间穿越，远隔数里瞬间到达；TA能在百度和微信里穿越">
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="content-wrapper dont-need-update" style="height: 579px;">
        <table>
            <tbody><tr>
                <td style="height: 579px;">
                    <img src="./liveapp/dont-need-update.png" alt="TA不需要更新，永远是年轻的脸，打开就是最新版">
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="content-wrapper itis-light" style="height: 579px;">
        <table>
            <tbody><tr>
                <td style="height: 579px;">
                    <img src="./liveapp/itis-light.png" alt="TA很瘦很轻，没有啤酒肚，哪怕活上400年，不占内存、不耗电">
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="content-wrapper its-super-man" style="height: 579px;">
        <table>
            <tbody><tr>
                <td style="height: 579px;">
                    <img src="./liveapp/its-super-man.png" alt="TA几乎无所不能。自媒体、明星APP、电商、传统品牌，每个角色都鹤立鸡群！因为TA来自沉淀10年的We7内容管理系统。
">
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="content-wrapper yunqi-logo-big" style="height: 579px;">
        <div class="content">
            <img src="./liveapp/lightapp-yunqi-logo-big.png" alt="TA就是——吾爱传媒轻APP">
            <a href="./member.php?act=login&" class="open-lightapp">立即开启微场景</a>
        </div>
        <div class="home-url">
            <p>www.52took.com</p>
        </div>
    </div>
</div>
<div class="nav" style="margin-top: -152px;">
    <a href="http://www.cloud7.com.cn/Cloud7Global/Page/AboutLightApps#" class="selected"></a>
    <a href="http://www.cloud7.com.cn/Cloud7Global/Page/AboutLightApps#"></a>
    <a href="http://www.cloud7.com.cn/Cloud7Global/Page/AboutLightApps#"></a>
    <a href="http://www.cloud7.com.cn/Cloud7Global/Page/AboutLightApps#"></a>
    <a href="http://www.cloud7.com.cn/Cloud7Global/Page/AboutLightApps#"></a>
    <a href="http://www.cloud7.com.cn/Cloud7Global/Page/AboutLightApps#"></a>
    <a href="http://www.cloud7.com.cn/Cloud7Global/Page/AboutLightApps#"></a>
</div>
</div>
                </div>
    </div>
    <!-- body end -->

    <!-- footer start -->
	<div class="erweima_wrap">
				<div class="maskLayer">				
				</div>
				<div class="erweima">
					<span></span>
					<img src="./liveapp/erweima01.jpg" alt="">
					<p>GMIC全球互联网大户</p>
				</div>
			</div>	


<!-- footer end -->
</div>

</div>

<script>
    window.MediaPublicUrlSeed = "/Media/Default/";
    $("article img").each(function () {
        var src = $(this).attr("src");
        $(this).attr("src", $.ImageSizePath(src, "original", true));
    });
</script>


<script src="./liveapp/jQuery.easing.min.js" type="text/javascript"></script>
<script src="./liveapp/jQuery.mousewheel.js" type="text/javascript"></script>
<script src="./liveapp/zMobile2.js" type="text/javascript"></script>
<script type="text/javascript">
    (function () {
        $(".layout_header").remove();
        $(".layout_footer").remove();
    })();

    $(function () {
        var navHeight = $(".nav").height();
        $(".nav").css("marginTop", "-" + navHeight / 2 + "px");
        var windowHeight = $(window).height();
        $(".wrap .content-wrapper").css("height", windowHeight);
        $(".wrap table td").css("height", windowHeight);

        if ($(window).width() > 1400) {
            $(".home-url").css("display", "block");
            $(".content-wrapper.yunqi-logo-big a.open-lightapp").css("bottom", "100px");
        };

        $(window).resize(function () {
            var $windowHeight = $(window).height();
            $(".wrap .content-wrapper").css("height", $windowHeight);
        });

        $("html,body").animate({ scrollTop: 0 });
        var index = 0;
        var timer = setInterval(function () {
            $(".icon-arrow").toggleClass("btn_down_animation");
            index++;
            if (index > 2) {
                clearInterval(timer);
            }
        }, 1000);

        if (!navigator.userAgent.match(/iPhone|iPad|iPod/i)) {//ipad
            var scrolling = false;
            var scroll_num = 1;
            var num = 7;
            var first = true;

            $("#go-to-next").live("click", function () {
                scroll_num++;
                $("html,body").animate({ scrollTop: (scroll_num - 1) * $(window).height() }, 750, "easeInOutExpo", function () {
                    scrolling = false;
                });
                $(".nav a:eq(1)").addClass("selected").siblings().removeClass("selected");
            });

            $('html,body').bind('mousewheel', function (event, delta, deltaX, deltaY) {
                event.preventDefault();
                if (scrolling == false) {
                    if (first == true) {
                        var scroll_position = $(window).scrollTop() / $(window).height();
                        scroll_num = Math.floor(scroll_position) + 1;
                    }
                    scrolling = true;
                    if (delta == -1 && scroll_num + 1 <= num) {
                        scroll_num++;
                        $("html,body").animate({ scrollTop: (scroll_num - 1) * $(window).height() }, 750, "easeInOutExpo", function () {
                            scrolling = false;
                        });
                        navToggle();
                    }
                    else if (delta == 1 && scroll_num - 1 > 0) {
                        scroll_num--;
                        $("html,body").animate({ scrollTop: (scroll_num - 1) * $(window).height() }, 750, "easeInOutExpo", function () {
                            scrolling = false;
                        });
                        navToggle();
                    }
                    else if (delta == -1 && scroll_num == num) {
                        scroll_num = 1;
                        $("html,body").animate({ scrollTop: (scroll_num - 1) * $(window).height() }, 750, "easeInOutExpo", function () {
                            scrolling = false;
                        });
                        navToggle();
                    }
                    else {
                        scrolling = false;
                    }
                }
            });

            $(".nav a").bind('click', function (event, delta, deltaX, deltaY) {
                event.preventDefault();
                if (scrolling == false) {
                    scroll_num = $(this).index() + 1;
                    $("html,body").animate({ scrollTop: (scroll_num - 1) * $(window).height() }, 750, "easeInOutExpo", function () {
                        scrolling = false;
                    });
                }
                $(this).addClass("selected").siblings().removeClass("selected");

            });

            function navToggle() {
                $(".nav a").removeClass("selected").eq(scroll_num - 1).addClass("selected");
            }
            navToggle();
        }
        else {
            var curwindex = 0;
            var redPoints = document.querySelectorAll(".zone.zone-content  .nav a");
            function setRedPoint(index) {
                redPoints[curwindex].classList.remove("selected");
                redPoints[index].classList.add("selected");
                curwindex = index;
            }

            var list = w.WList(document.querySelector(".wrap"), function (e) {
                setRedPoint(e.index);
            });

            w.loopArray(redPoints, function (point, i) {
                Z.onTap(point, function () {
                    setRedPoint(i);
                    list.cutTo(i);
                });
            });

            var a = document.querySelectorAll("a");
            w.loopArray(a, function (a) {
                var href = a.href;
                a.removeAttribute("href");
                Z.onTap(a, function () {
                    window.location = href;
                })
            })

            function goToNext(ele) {
                Z.onTap(document.querySelector("." + ele), function () {
                    setRedPoint(1);
                    list.cutTo(1);
                });
            }
            goToNext("btndowntit");
            goToNext("icon-arrow");
        }
    });

    (function () {//w.mobile.js
        function loopArray(array, func) {
            var len = array.length;
            for (var i = 0; i < len; i++) {
                func(array[i], i);
            }
        }

        // 遍历对象
        function loopObj(obj, block) {
            for (var key in obj) {
                block(key, obj[key]);
            }
        }

        function translate(el, left, top, duration, onEnd) {
            el.startX = left;
            el.startY = top;
            w.CSS(el, {
                "-webkit-transform": "translate3d(" + left + "px," + top + "px,0px)",
                "transform": "translate3d(" + left + "px," + top + "px,0px)",
                "transition": duration + "s"
            });
            var endType = ["transitionend", "webkitTransitionEnd"];
            if (onEnd) {
                loopArray(endType, function (type) {
                    var end = {};
                    end[0] = w.bindEvent(el, type, function () {
                        el.style.removeProperty("transition");
                    });
                    end[1] = w.bindEvent(el, type, onEnd);
                    w.bindEvent(el, type, function () {
                        end[1].remove();
                    });
                });
            }
        }


        function Events() {
            var events = LinkedList();
            return {
                regist: events.addTail,
                trig: function () {
                    for (var cur = events.head(); cur !== events.end(); cur = cur.next) {
                        (cur.value)();
                    }
                }
            }
        }


        function CSS(el, rules) {
            w.loopObj(rules, function (key, value) {
                el.style.setProperty(key, value, null);
            });
        }

        function isPc() {
            return navigator.platform == "Win32";
        }

        Event.prototype.wPageX = isPc() ? function () {
            return this.pageX;
        } : function () {
            return this.touches[0].pageX;
        };
        Event.prototype.wPageY = isPc() ? function () {
            return this.pageY;
        } : function () {
            return this.touches[0].pageY;
        };
        var touchStart = isPc() ? "mousedown" : "touchstart",
		touchMove = isPc() ? "mousemove" : "touchmove",
		touchEnd = isPc() ? "mouseup" : "touchend";

        function bindEvent(el, eventType, func) {
            el.addEventListener(eventType, func, false);
            return {
                remove: function () {
                    el.removeEventListener(eventType, func, false);
                }
            }
        }

        function dragV(moveObj, sliding, end) {
            var ddy = 0;
            var dragRatio;
            var curX = moveObj.startX ? moveObj.startX : 0, curY = moveObj.startY ? moveObj.startY : 0;
            var move = bindEvent(document, touchMove, function (eventMove) {
                dragRatio = moveObj.dragRatio != undefined ? moveObj.dragRatio : 1;
                moveObj.startX = curX;
                moveObj.startY = dragRatio * (eventMove.wPageY() - moveObj.initY) + curY;
                moveObj.style.setProperty("-webkit-transform", "translate3d(" + moveObj.startX + "px," + moveObj.startY + "px,0px)", null);
                ddy = moveObj.startY - curY;
                if (sliding) {
                    sliding({
                        distance: ddy,
                        targetPos: {
                            x: moveObj.startX,
                            y: moveObj.startY
                        },
                        direction: ddy < 0 ? 1 : -1
                    });
                }
            });
            var up = bindEvent(document, touchEnd, function () {
                if (end) {
                    end({
                        distance: ddy,
                        targetPos: {
                            x: moveObj.startX,
                            y: moveObj.startY
                        },
                        direction: ddy < 0 ? 1 : -1
                    });
                }
                up.remove();
                move.remove();
            });
        }

        function simpledragV(dragTarget, dragStartEvent) {
            function touch(startEvent) {
                startEvent.preventDefault();
                var endX = startEvent.wPageX(),
				endY = startEvent.wPageY(),
				startX = startEvent.wPageX(),
				startY = startEvent.wPageY();
                dragTarget.initY = startEvent.wPageY();
                var endEvent = bindEvent(document, touchEnd, function (endEvent) {
                    downMove.remove();
                    document.removeEventListener(touchEnd, arguments.callee, false);
                    if ((Math.pow((endX - startEvent.wPageX()), 2) + Math.pow((endY - startEvent.wPageY()), 2)) < 900) {
                        //单击
                    }
                    else {
                        //滚动
                    }
                });
                var downMove = bindEvent(document, touchMove, function (moveEvent) {
                    moveEvent.preventDefault();
                    endX = moveEvent.wPageX();
                    endY = moveEvent.wPageY();
                    if (Math.abs(moveEvent.wPageY() - startY) > 30 && Math.abs(moveEvent.wPageX() - startX) < 30) {
                        endEvent.remove();
                        downMove.remove();
                        dragStartEvent.trig();
                    }
                });

            }

            var event = bindEvent(dragTarget, touchStart, touch);
            return {
                event: event,
                recover: function () {
                    bindEvent(dragTarget, touchStart, touch);
                }
            };
        }

        function createElement(tagName, arg, parentNode) {
            var el = document.createElement(tagName);
            arg && loopObj(arg, function (key, value) {
                switch (key) {
                    case "classList":
                        if (typeof value == "string") {
                            el.classList.add(value);
                        }
                        else {
                            loopArray(value, function (className) {
                                el.classList.add(className);
                            });
                        }
                        break;
                    case "src":
                        el.src = value;
                        break;
                    case "style":
                        CSS(el, value);
                        break;
                }
            });
            parentNode && parentNode.appendChild(el);
            return el;
        }

        function animateY(el, top, duration, onEnd) {
            var timeId = null;
            var startData = new Date();
            var curX = el.startX ? el.startX : 0, curY = el.startY ? el.startY : 0;
            var velocity = (top - curY) / duration;
            if (curY == top) {
                return;
            }
            step();
            function step() {
                clearTimeout(timeId);
                var curDate = new Date();
                if (curDate - startData >= duration) {
                    el.startY = top;
                    w.CSS(el, {
                        "-webkit-transform": "translate3d(" + curX + "px," + top + "px,0px)",
                        "transform": "translate3d(" + curX + "px," + top + "px,0px)"
                    });
                    onEnd && onEnd();
                    return;
                }
                var dt = curDate - startData;
                el.startY = curY + velocity * dt;
                w.CSS(el, {
                    "-webkit-transform": "translate3d(" + curX + "px," + el.startY + "px,0px)",
                    "transform": "translate3d(" + curX + "px," + el.startY + "px,0px)"
                });
                timeId = setTimeout(function () {
                    step();
                }, 1000 / 60);
            }
        }

        //num循环次数
        function loop(num, func) {
            for (var i = 0; i < num; i++) {
                func(i);
            }
        }

        function WList(tar, change) {
            var el = tar.cloneNode(true);
            var border = document.createElement("div");
            border.className = "border";
            CSS(border, {
                "position": "absolute",
                "top": "0",
                "bottom": "0",
                "left": "0",
                "right": "0",
                "overflow": " hidden"
            });
            border.appendChild(el);
            tar.parentNode.appendChild(border);
            tar.parentNode.removeChild(tar);
            var length = el.querySelectorAll(" .content-wrapper").length;
            var ratio = 0.2;
            var drag = w.Events();
            var index = 0;
            var last = el.querySelectorAll(".content-wrapper")[0].cloneNode(true);
            CSS(el, {
                "height": 100 * (length + 1) + "%"
            });
            w.loopArray(el.querySelectorAll(".content-wrapper"), function (li) {
                CSS(li, {
                    "height": 100 / (length + 1) + "%"
                })
            });
            var height = document.body.offsetHeight;
            el.appendChild(last);
            w.CSS(last, {
                "height": 100 / (length + 1) + "%"
            });
            simpledragV(el, drag);
            drag.regist(function () {
                dragV(el, function (moveEvent) {
                    if ((index == 0 && moveEvent.direction == -1)) {
                        el.dragRatio = 0;
                        ratio = 100;
                    }
                }, function (upEvent) {
                    console.log(upEvent.direction);
                    if (Math.abs(upEvent.distance / height) < ratio) {
                        animateY(el, -height * index, 10, function () {
                            change({
                                index: index
                            });
                        });
                    }
                    //超过阀值
                    else {
                        console.log("超过阀值");
                        //最后一项
                        if (index == length - 1) {
                            index = index + upEvent.direction;
                            animateY(el, -height * index, 200, function () {
                                index = 0;
                                translate(el, 0, 0, 0);
                                change({
                                    index: index
                                });
                            });
                        }
                        else {
                            index = index + upEvent.direction;
                            animateY(el, -height * index, 200, function () {
                                change({
                                    index: index
                                });
                            });
                        }
                    }
                    ratio = 0.2;
                    el.dragRatio = 1;
                })
            });
            function cutTo(toIndex) {
                animateY(el, -height * toIndex, 100 * Math.abs(toIndex - index), function () {
                    index = toIndex;
                    change({
                        index: index
                    });
                });
            }

            return {
                cutTo: cutTo
            }
        }

        function LinkedList() {
            var head = Node(null, null, null),
			tail = Node(null, head, null),
			length = 0;
            head.next = tail;

            function Node(value, previous, next) {
                var node = {
                    previous: previous,
                    next: next,
                    value: value,
                    remove: function () {
                        node.previous.next = node.next;
                        node.next.previous = node.previous;
                        length--;
                    },
                    insertBefore: function (value) {
                        var newNode = Node(value, node.previous, node);
                        node.previous.next = newNode;
                        node.previous = newNode;
                        length++;
                        return newNode;
                    },
                    insertAfter: function (value) {
                        return node.next.insertBefore(value);
                    }
                };
                return node;
            }

            return {
                length: function () {
                    return length;
                },
                begin: function () {
                    return head;
                },
                head: function () {
                    return head.next;
                },
                tail: function () {
                    return tail.previous;
                },
                end: function () {
                    return tail;
                },
                addHead: function (value) {
                    return tail.insertBefore(value);
                },
                addTail: function (value) {
                    return head.insertAfter(value);
                }
            }
        }

        window.w = {
            WList: WList,
            loop: loop,
            loopArray: loopArray,
            loopObj: loopObj,
            dragV: dragV,
            simpledragV: simpledragV,
            bindEvent: bindEvent,
            Events: Events,
            translate: translate,
            CSS: CSS,
            createElement: createElement,
            animateY: animateY,
            isPc: isPc
        }
    })();
    
</script>

    <script type="text/javascript">

        //control_mask
        $('.erweima span').click(function() {
            $('.erweima_wrap').hide();
            $("body").removeClass('overflow');
        });

        $('[data-dialogimg][data-dialogtext]').click(function (e) {
            e.preventDefault();
            var imgpath = $(this).attr("data-dialogimg");
            var text = $(this).attr("data-dialogtext");
            $('.erweima_wrap').find("img").attr("src", imgpath);
            $('.erweima_wrap').find("p").text(text);
            e.stopPropagation();
            $('.erweima_wrap').show();
            return false;
        });
        //slidebar_toggle
        $('.lightApp_slidebar a').mouseover(function() {
            $(this).addClass('slidebar_on');
        }).mouseout(function() {
            $(this).removeClass('slidebar_on');
        });
        //case_mouseover
        var url;
        $('.case_img_wrap a').mouseover(function() {
            url = $(this).find('img').attr("src");
            $(this).find('img').attr("src", "../../Themes/Cloud7Global/Styles/Images/caseMouseover.png");
        }).mouseout(function() {
            $(this).find('img').attr("src", url);
        });

        function clearText(field, sEventType) {
            if (field.value == field.defaultValue) {
                field.value = '';
            } else if (field.value == '') {
                field.value = field.defaultValue;
            }
            if (sEventType == 'onfucs') {
                field.className = 'input_email_on';
            } else if (sEventType == 'onblurs') {
                field.className = 'input_email_off';
            }
        }
    </script>

    <script type="text/javascript">
        function clearText(field, sEventType) {
            if (field.value == field.defaultValue) {
                field.value = '';
            } else if (field.value == '') {
                field.value = field.defaultValue;
            }
            if (sEventType == 'onfucs') {
                field.className = 'input_email_on';
            } else if (sEventType == 'onblurs') {
                field.className = 'input_email_off';
            }
        }
    </script>


   
    </body></html>